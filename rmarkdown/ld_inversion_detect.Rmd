---
title: "LD-network inversion detection"
output: github_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## Make LD matrix for chromosome 54 (most likely inversion)

First we have to make a global_snp_list file

```{bash eval = F, include = T}
zcat angsd/PCAM-PPLA-wholegenome_polymorphic_CM023306.1.beagle.gz | cut -f 1 | sed 's/_/\t/1' | gzip > angsd/global_snp_list_PCAM-PPLA-wholegenome_polymorphic_CM023306.1.txt.gz
```


```{bash eval = F, include = T}
## Testing on the Therkildsen server
## impportant updates to script:
# Path to ngsLD has changed to '/programs/ngsLD-1.1.1/ngsld.sif /ngsLD-1.1.1/ngsLD'. Oon top of this, it has been installed in something called a 'Singularity' which requires us to specify a working directory for the program that is done using 'export APPTAINER_BINDPATH=/fs/cbsubscb16/storage/rkc/'

export APPTAINER_BINDPATH=/fs/cbsubscb16/storage/rkc/

nohup bash /fs/cbsubscb16/storage/genomic-data-analysis/scripts/get_ld.sh /fs/cbsubscb16/storage/rkc/angsd/ PCAM-PPLA-wholegenome_polymorphic_CM023306.1_noheader.beagle.gz global_snp_list_PCAM-PPLA-wholegenome_polymorphic_CM023306.1.txt.gz 100 16 '/programs/ngsLD-1.1.1/ngsld.sif /ngsLD-1.1.1/ngsLD' > /fs/cbsubscb16/storage/rkc/nohups/run_ngsLD_bam_list_PCAM-PPLA-wholegenome_polymorphic_CM023306.1.nohup &
```





